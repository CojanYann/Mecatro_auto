<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Robot Control - Écran Déporté</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS pour la cartographie -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div class="logo-header">
            <div class="status-row">
                <button id="power-toggle" class="power-toggle">ON</button>
            </div>
            <h1 class="title">Robot Control - Écran Déporté</h1>
            <div class="battery-indicator" id="battery-indicator" title="Niveau de batterie">
                <div class="battery-icon">
                    <div class="battery-level" id="battery-level"></div>
                    <div class="battery-cap"></div>
                </div>
                <span class="battery-text" id="battery-text">--%</span>
            </div>
        </div>
        
        <div class="column left-column">
            <!-- Encadré des KPI -->
            <div class="card kpi-card">
                <div class="section-title">KPI</div>
                <div class="kpi-container">
                    <div class="kpi-item">
                        <span class="kpi-label">Remplissage du bac :</span>
                        <div class="kpi-simulation">
                            <div class="kpi-simulation-bar" id="bin-fill-simulation" style="height: 50%;"></div>
                        </div>
                        <span class="kpi-value" id="bin-fill-percentage" style="margin-left: 10px;">50%</span>
                    </div>
                    <div class="kpi-item">
                        <span class="kpi-label">Détection des obstacles :</span>
                        <div class="robot-view">
                            <div class="robot-icon"></div>
                            <div class="obstacle" id="obstacle-front"></div>
                            <div class="obstacle" id="obstacle-left"></div>
                            <div class="obstacle" id="obstacle-right"></div>
                        </div>
                        <span class="kpi-value" id="obstacle-distance-front">--</span>
                    </div>
                </div>
            </div>
            
            <!-- Contrôles directionnels du robot -->
            <div class="card robot-controls-card">
                <div class="section-title">Contrôle du robot</div>
                <div class="robot-controls">
                    <div class="speed-control">
                        <div class="speed-label">Vitesse</div>
                        <input type="range" min="0" max="100" value="0" class="speed-slider" id="speed-slider" orient="vertical">
                        <div class="speed-value" id="speed-value">0%</div>
                    </div>
                    
                    <div class="direction-pad">
                        <button class="direction-btn up-btn" id="forward-btn" aria-label="Avancer">
                            <span class="arrow-icon">▲</span>
                        </button>
                        <div class="horizontal-controls">
                            <button class="direction-btn left-btn" id="left-btn" aria-label="Gauche">
                                <span class="arrow-icon">◀</span>
                            </button>
                            <button class="direction-btn stop-btn" id="stop-btn" aria-label="Arrêter">
                                <span class="stop-icon">■</span>
                            </button>
                            <button class="direction-btn right-btn" id="right-btn" aria-label="Droite">
                                <span class="arrow-icon">▶</span>
                            </button>
                        </div>
                        <button class="direction-btn down-btn" id="backward-btn" aria-label="Reculer">
                            <span class="arrow-icon">▼</span>
                        </button>
                        <button class="robot-mode-btn" id="mode-btn">Manuel</button>
                    </div>
                    <div class="robot-actions">
                        <button class="robot-action-btn" id="pickup-btn">Ramassage</button>
                        <button class="robot-action-btn" id="empty-btn">Vider</button>
                        <button class="robot-action-btn" id="base-btn">Base</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="column right-column">
            <!-- Nouvelle section droite -->
            <div class="card">
                <div class="section-title">Nouvelle section droite</div>
                <div class="blank-content">
                    <!-- Contenu à définir -->
                </div>
            </div>
            
            <!-- Section pour afficher les logs JSON -->
            <div class="card">
                <div class="section-title">Logs JSON</div>
                <div class="json-log" id="json-log">
                    <!-- Les logs JSON seront affichés ici -->
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/main.js"></script>
</body>
</html>